var r,e=document.querySelector("tbody"),t=document.querySelector(".button"),n=document.querySelector(".game-score"),a=document.querySelector(".message-start"),o=document.querySelector(".message-win"),s=document.querySelector(".message-lose"),i=0;function c(){for(var e=0;e<4;e++)if(r[e].includes(0))return!0;return!1}function f(){for(;c();){var e=Math.floor(4*Math.random()),t=Math.floor(4*Math.random());if(0===r[e][t]){var n=.9>Math.random()?2:4;r[e][t]=n;break}}u()}function u(){for(var n=0;n<4;n++)for(var a=0;a<4;a++){var i=e.rows[n].cells[a],f=r[n][a];i.innerText="",i.classList.value="",i.classList.add("field-cell"),f>0&&(i.innerText=f,i.classList.add("field-cell--".concat(f))),2048===f&&(o.classList.remove("hidden"),t.classList.replace("restart","start"))}(function(){if(c())return!1;for(var e=0;e<4;e++)for(var t=0;t<4;t++)if(r[e][t]===r[e][t+1])return!1;for(var n=0;n<3;n++)for(var a=0;a<4;a++)if(r[n][a]===r[n+1][a])return!1;return!0})()&&s.classList.remove("hidden")}function d(r){return r.filter(function(r){return 0!==r})}function l(r){for(var e=d(r),t=0;t<e.length-1;t++)e[t]===e[t+1]&&(e[t]*=2,e[t+1]=0,i+=e[t],n.innerText=i);for(e=d(e);e.length<4;)e.push(0);return e}t.addEventListener("click",function(){t.classList.replace("start","restart"),t.innerText="Restart",a.classList.add("hidden"),o.classList.add("hidden"),s.classList.add("hidden"),r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],i=0,n.innerText=i,f(),f()}),document.addEventListener("keyup",function(e){e.preventDefault();var t,n=JSON.parse(JSON.stringify(r));switch(e.code){case"ArrowLeft":!function(){for(var e=0;e<4;e++){var t=r[e];t=l(t),r[e]=t}}();break;case"ArrowRight":!function(){for(var e=0;e<4;e++){var t=r[e].reverse();t=l(t).reverse(),r[e]=t}}();break;case"ArrowUp":!function(){for(var e=0;e<4;e++){var t=[r[0][e],r[1][e],r[2][e],r[3][e]];t=l(t);for(var n=0;n<4;n++)r[n][e]=t[n]}}();break;case"ArrowDown":!function(){for(var e=0;e<4;e++){var t=[r[0][e],r[1][e],r[2][e],r[3][e]].reverse();t=l(t).reverse();for(var n=0;n<4;n++)r[n][e]=t[n]}}()}t=r,JSON.stringify(n)!==JSON.stringify(t)&&(f(),u())});
//# sourceMappingURL=index.96ec0e35.js.map
